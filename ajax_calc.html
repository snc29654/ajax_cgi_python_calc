<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ajax cgi python localhost/ajax_calc.html/</title>
</head>
<body>


    <button type="button"  onclick="func_add()" >足し算</button>
    <input class="button2"  type="button" value="クリア" onclick="clearTextarea()" ><br>
    <input type="text" id="text4" size="5" value="" />
    <input type="text" id="text5" size="5" value="" /><br>


    <textarea id="text6" name="Contents" ROWS=1 COLS=10></textarea>

    <script src="https://code.jquery.com/jquery-2.2.4.js" ></script>

<script>

    function clearTextarea() {
	    var textareaForm = document.getElementById("text4");
        textareaForm.value = '';
	    var textareaForm = document.getElementById("text5");
        textareaForm.value = '';
	    var textareaForm = document.getElementById("text6");
        textareaForm.value = '';
    }

    function func_add() {
        let str2 = document.getElementById("text4").value;
        if(str2==""){
            str2 = "";
        }
        let str3 = document.getElementById("text5").value;
        if(str3==""){
            str3 = "";
        }

        $.ajax({

            url:'./ajax_calc.py',
            type:'POST',
            data:{sent2:str2,sent3:str3}
        })
        .done(function(data){
            var smp=document.getElementById("text6");
            smp.innerHTML = data;

        })
        .fail(function(){
            var smp=document.getElementById("inbox");
            smp.innerHTML = "failed";
        });
    }





</script>

</body>
</html>

